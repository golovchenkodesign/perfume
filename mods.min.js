/*!
 * mods.js v1.4 | MIT License | (c) 2025 Maksim Postnikov
 * https://postnikovmd.com/mods/license
 */

!function(e){void 0===window.mods&&(window.mods={version:"1.4",license:"MIT License: https://postnikovmd.com/mods/license",copyright:"© 2025 Maksim Postnikov"});let n=new URLSearchParams(window.location.search);if(null!==n.get("debug")){if(void 0===window.mods.debug)return null!==n.get("v")&&(window.mods.version=n.get("v")),document.write('<script src="https://static.postnikovmd.com/mods/'+window.mods.version+'/mods.min.js"><\/script>'),void(window.mods.debug=!0);null!==n.get("v")&&(window.mods.version=n.get("v"))}if(null!==n.get("showerrors")){let e=document.createElement("script");e.src="https://static.postnikovmd.com/mods/"+window.mods.version+"/misc/showerrors.min.js",e.async=!0,document.head.appendChild(e)}if(null!==n.get("showparams")){let e=document.createElement("script");e.src="https://static.postnikovmd.com/mods/"+window.mods.version+"/misc/showparams.min.js",e.async=!0,document.head.appendChild(e)}let d=function(e,n,...d){n||(n={}),n.method||(n.method="init"),void 0===n.js&&(n.js=!0),void 0===n.css&&(n.css=!1),void 0!==n.depends?(n.mod=e,e=n.depends):n.mod=e,void 0===n.async&&(n.async=!0),void 0===n.handler&&(n.handler=!0);let o="https://cdn.postnikovmd.com/tilda@"+window.mods.version+"/"+e+".min";window.mods.debug&&(o="https://static.postnikovmd.com/mods/"+window.mods.version+"/"+e+".min");let t=function(e,n,d){let o;o=n.object?window[n.object]:window[e],o&&"function"==typeof o[n.method]&&o[n.method](...d)},i=function(e){switch(e){case"rescale":{let e=document.querySelector('script[src*="tilda-animation-2.0.min.js"]');e&&(e.remove(),"init"===window.rescale.state?setTimeout((function(){document.head.appendChild(e)}),10):window.addEventListener("rescaleinit",(function(){setTimeout((function(){document.head.appendChild(e)}),10)}))),"block"===n.method&&(void 0===window.rescale&&(window.rescale={}),window.rescale.trigger="block"),"disable"===n.method&&(void 0===window.rescale&&(window.rescale={}),window.rescale.disabled="init");break}case"header":if("string"==typeof d[0]&&document.querySelector(d[0]).classList.add("t-header-loading","t-header-locked"),!document.querySelector(".t-header-style")){let e=document.createElement("style");e.classList.add("t-header-style"),e.textContent=".t-header-loading { visibility: hidden!important; transition: none!important; opacity: 0!important } .t-header-locked { transition: none !important }",document.head.appendChild(e)}}};if(window.mods.mods.loaded.sync.has(e)||window.mods.mods.loaded.async.has(e))t(n.mod,n,d),i(e);else if(void 0===window[e].loaded&&(window[e].loaded=!1),window[e].loaded){document.querySelector('script[src="'+o+'.js"]').addEventListener("load",(function(){t(n.mod,n,d)})),i(e)}else{if(n.js){let i=document.createElement("script");i.src=o+".js",n.async&&(i.async=!0),i.onload=function(){window[e].loaded=!0,n.async?window.mods.mods.loaded.async.add(e):window.mods.mods.loaded.sync.add(e),window.dispatchEvent(new Event("modLoaded")),t(n.mod,n,d)},document.head.appendChild(i)}if(n.css){let e=document.createElement("link");e.rel="stylesheet",e.href=o+".css",document.head.appendChild(e)}n.handler&&i(e),window[e].loaded=!0}},o=function(e){switch(window.t_onModLoad=function(e,n,d){void 0!==window[e]&&function(e){if(void 0!==window[e])for(const n in e)if("function"==typeof e[n])return!0;return!1}(e)?n():setTimeout((function(){t_onObjLoad(e,n,d)}),d||100)},window.t_onModsReady=function(e){if(window.mods)if("ready"===window.mods.state||"loaded"===window.mods.state)e();else if(window.mods.mods.init.sync.size>0){let n=!1;window.addEventListener("modsReady",(function(){setTimeout((function(){e(),n=!0}),10)})),setTimeout((function(){n||("ready"===window.mods.state||"loaded"===window.mods.state?e():(e(),console.warn("[mods.js] Предупреждение: Превышено время загрузки модификаций")))}),3e3)}else e(),window.mods.state="notloaded";else e()},window.t_onReady=function(e){"loading"!==document.readyState?t_onModsReady(e):document.addEventListener("DOMContentLoaded",(function(){t_onModsReady(e)}))},window.t_onFuncLoadHandler=function(e,n){if("t396_initialScale"===e)void 0!==window.rescale.disabled&&(window.rescale.disabled?n():window.addEventListener("rescaleoff",(function(){})));else n()},e){case"init":window.t_onFuncLoad=function(e,n,d){"function"==typeof window[e]?t_onFuncLoadHandler(e,n):setTimeout((function(){t_onFuncLoad(e,n,d)}),d||100)};break;case"load":window.t_checkIsEditMode=function(){let e=document.getElementById("allrecords");return!!e&&"edit"===e.getAttribute("data-tilda-mode")},window.t_onFuncLoad=function(e,n,d){let o=t_checkIsEditMode(),t=function(){return!o||o&&t_checkEditorIsReady()},i=function(e){return"function"==typeof window[e]||"object"==typeof window[e]};if(i(e)&&t())t_onFuncLoadHandler(e,n);else{let o=Date.now(),s=function(){throw new Error(e+" is undefined")};setTimeout((function a(){var c=Date.now();i(e)&&t()?t_onFuncLoadHandler(e,n):("complete"===document.readyState&&c-o>15e3&&!i(e)&&s(),setTimeout(a,d||100))}))}}}};o("init");let t=document.querySelector('script[src*="tilda-scripts-3.0.min.js"]');t&&("function"==typeof window.t_outerWidth?o("load"):t.addEventListener("load",(function(){o("load")})));let i=document.querySelector('script[src*="tilda-members-init.min.js"]');if(i){let e=function(e){let n=setInterval((function(){let d=document.querySelector('script[src*="'+e+'"]');d&&(clearInterval(n),d.addEventListener("load",(function(){o("load")})))}),100)},n=function(){o("load"),e("tilda-scripts-3.0.min.js"),e("tilda-members-scripts.min.js")};"function"==typeof window.tma__onFuncLoad?n():i.addEventListener("load",(function(){n()}))}window.addEventListener("modLoaded",(function(){function e(){function e(){if("ready"!==window.mods.state&&"loaded"!==window.mods.state&&window.mods.mods.init.sync.size===window.mods.mods.loaded.sync.size&&(window.dispatchEvent(new Event("modsReady")),window.mods.state="ready"),"loaded"!==window.mods.state){window.mods.mods.init.sync.size+window.mods.mods.init.async.size===window.mods.mods.loaded.sync.size+window.mods.mods.loaded.async.size&&(window.dispatchEvent(new Event("modsLoaded")),window.mods.state="loaded")}}"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",(function(){e()}))}window.mods.mods.init.sync.has("rescale")?"init"===window.rescale.state?void 0===window.rescale.disabled||window.rescale.disabled?e():"init"===window.rescale.disabled?window.addEventListener("rescaleoff",(function(){e()})):e():setTimeout((function(){void 0===window.rescale.disabled?window.addEventListener("rescaleinit",(function(){e()})):window.rescale.disabled?e():"init"===window.rescale.disabled?window.addEventListener("rescaleoff",(function(){e()})):e()})):e()})),void 0===window.postnikovmd&&(window.postnikovmd="Maksim Postnikov, https://postnikovmd.com"),function(e){void 0===window.mods.mods&&(window.mods.mods={init:{sync:new Set,async:new Set},loaded:{sync:new Set,async:new Set}}),void 0===window.mods.state&&(window.mods.state="loading");let n=function(e){"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",(function(){e()}))};for(const[o,t]of Object.entries(e)){void 0===window[o]&&(window[o]={});for(const[e,i]of Object.entries(t))window[o][e]=function(...e){void 0===i.async&&(i.async=!0),!1===i.async?(window.mods.mods.init.sync.add(o),d(o,i,...e)):n((function(){void 0!==i.depends||window.mods.mods.init.sync.has(o)||window.mods.mods.init.async.add(o),d(o,i,...e)}))}}window.addEventListener("load",(function(){window.mods.page="load"})),n((function(){let e=document.createElement("script");e.innerHTML='t_onReady(function(){ setTimeout(function(){ if (window.mods.page === "load") { window.dispatchEvent(new Event("load")); window.mods.page = "loaded" } }, 300) })',document.querySelector(".t-body").appendChild(e)}))}({rescale:{init:{method:"init",async:!1},block:{method:"block"},disable:{method:"disable",async:!1},fix:{method:"fix",async:!1}},header:{init:{method:"init",css:!0}},subheader:{init:{depends:"header",method:"init"}},submenu:{init:{depends:"header",method:"init"}},menu:{init:{depends:"header",method:"init"}},search:{init:{depends:"header",method:"init"}},slider:{init:{method:"init",css:!0}},tabs:{init:{method:"init",css:!0}},popup:{init:{method:"init",css:!0}},forms:{init:{method:"init",async:!1},success:{method:"success"},validate:{method:"validate"}},accordion:{init:{method:"init",css:!0}},video:{init:{method:"init",css:!0}},audio:{init:{method:"init",css:!0}},preloader:{init:{method:"init",async:!1,css:!0}},tooltip:{init:{method:"init",css:!0}},lottie:{init:{method:"init"}},truncate:{init:{method:"init"}},buttons:{init:{method:"init",css:!0}},back:{init:{method:"init"}},flip:{init:{method:"init",css:!0}},tilt:{init:{method:"init"}},textsplit:{init:{method:"init",css:!0}},numbers:{init:{method:"init"}},gravity:{init:{method:"init"}},tags:{init:{method:"init"},merge:{method:"merge"}},shuffle:{init:{method:"init"}}})}(window);